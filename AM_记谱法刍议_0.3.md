# AM 记谱法刍议 0.3

主要贡献者: 七海真夏·斯卡雷特, pluveto, 尸山人也, Juan the GK 等.


## 音符的定义

默认 1=C

音符包含两个要素, **音高(pitch)**和**时值(duration)**. 我们规定音符还包括休止符, 休止符的音高为`null`, 编号为`0`, 记号为`x`

### 音高表:

(见附件 I)

编写曲谱时, 用 `变化符号+数字`表示
相对关系: 1 表示 c1

### 音符数字表

`0 1 2 3 4 5 6 7`

## 高音

高音用 `[音符数字]` 表示. 例如`[1]` 表示`c2`. 该符号可以叠加使用, 例如`[[1]]`表示`c3`

## 低音

低音用 `(音符数字)` 表示. 用法和高音相同.

## 升高半音

升高半音用 `#音符数字` 表示. 升高整体半音用`#乐句`表示

## 降低半音

降低半音用 `b音符数字` 表示. 用法和升高半音相同.

## 休止符的高低音

休止符的高低音符号可以自由选取. 例如 `[x 1 2 3]` 也可以写成 `x [1 2 3]` 甚至 `[[x]] [1 2 3]`

## 音符集合

音符组成的集合. 如 [x 1 2 3], 音符之间必须用空格分隔. 空格个数可以自由决定, 但不能为 0.

## 乐句和乐段

在 AM 记谱法中, 不区分乐句和乐段.

乐句和乐段用{音符集合}表示. {[音符集合]}可以简写为[音符集合]. 低音同理.

例如:
```
#{
 [01 2 01 02 03]
}
```
可以简写为
```
#[
 01 2 01 02 03
]
```

## 小节线

`|`表示小节线, 但是不强制使用.

## 注释
`/* 注释内容 */`, 表示注释

也可以单开一行, 用 `//注释内容`表示注释.

注释的内容可以自由决定. 注释在预处理阶段就会被删除.

## 关键字

关键字不同于注释, 关键字有确定的内容(详见 附录 II 关键字表), 可以被计算机识别. 比如`震音`,`整体升高八度`

用法:

`<关键字>乐句`

示例:
```
<前奏>#[
 01 2 01 02 03
]
```

## N分音符

当N>=4时, 用 `0...音符` 表示.

 例如`01`表示八分音符`1`表示四分音符, `001`表示十六分音符. `0..(X个)1`表示 2的X+2次方 分音符

当N<4时, 用 `音符0...` 表示. 例如`10` 表示二分音符 `100`表示全音符. 也可以`1 - `表示二分音符，`1---`表示全音符

总地来说, 每前置一个0使得时值等于原来的时值乘以1/2, 后置0则为乘以2,

## 附点

附点用`音符·` 表示（注意不是`.`. 附点使得音符的时值增大为原来的 3/2

## N 连音

N 连音 用 N-1 个`_`连接音符表示. 例如 `01_02_03` 表示三连音, 每个音的时值为八分音符的1/3

## 连音

连音用`'`表示, `'`的个数可以自由决定, 例如 `003''30`

## 排版控制符

如果使用了简写, 又需要排版, 可以用`.`排版. 例如 `0123`可以写为`0..1...2...3`

音符之间排版可以用`.`也可以用` `(空格).

## 小节线

小节线用 `|` 表示, 在AM记谱法中, 它相当于一个装饰记号, 可以不写.

## 乐曲结束

乐曲结束用 `||` 表示

如果使用了反复记号, 则必须使用结束记号.

## 反复

反复记号有: `||:` `:||` `:||:` `<D.C.>` `<D.S.>` 

`<D.C.>` 表示乐曲从头反复, 与`<Fine>`连用
`<D.S.>` 表示乐曲从头反复, 与`<Fine>`,`<%>`(反复跳越记号)连用